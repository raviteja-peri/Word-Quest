css module presentation levels css module presentation levels wc working draft  august  this version httpwwwworgtrwdcsspreslev latest version httpwwwworgtrcsspreslev editors ian hickson ian @hixiech hkon wium lie howcome @operacom copyright   wc mit ercim keio all rights reserved wc liability trademark document use and software licensing rules apply abstract presentation levels are integer values attached to elements in a document elements that are below at or above a certain threshold can be styled differently this feature has two compelling use cases first slide presentations with transition effects can be described for example list items can be progressively revealed by sliding in from the side second outline views of documents where only the headings to a certain level are visible can be generated status of this document this section describes the status of this document at the time of its publication other documents may supersede this document a list of current wc publications and the latest revision of this technical report can be found in the wc technical reports index at httpwwwworgtr this document is a working draft of the css working group which is part of the style activity see summary the working group believes this draft describes useful functionality for presenting web documents comments on and discussions of this draft can be sent on the archived public mailing list wwwstyle@worg see instructions wc members can also send comments directly to the css working group it is inappropriate to use wc working drafts as reference material or to cite them as other than work in progress its publication does not imply endorsement by the wc membership or the css working group members only patent disclosures relevant to css may be found on the working groups public patent disclosure page table of contents  the model  the presentationlevel property  example  progressively revealing list items  example  presenting outline views of a document  presentation levels and the dom  the model content reuse has been one of the main motivations for the development of style sheets by associating documents with different style sheets the same content can be presented in different ways the introduction of presentation levels in css adds functionality which is very useful in two particular settings first slide presentations with transition effects can be described for example list items can be progressively revealed by sliding in from the side second outline views of documents where only the headings to a certain level are visible can be generated the model behind presentation levels is simple each element in the document is assigned an integer value which is referred to as the elements presentation level epl the epl can be set explicitly in a style sheet or calculated automatically based on the elements position in the document structure it is specified by the computed value of the presentationlevel property the user agent maintains another integer value which is called the user agent presentation value uapl the uapl starts at a uadefined value typically  all elements are in one of three presentation pseudoclasses belowlevel atlevel and abovelevel these pseudoclasses refer to whether the elements epl was below at or above the uapl the last time the uapl changed when an elements state is evaluated the epl is compared to the uapl and pseudoclasses are assigned as follows if the epl is equal to  the element is always in the belowlevel state if the epl is lower than the uapl value it is set to the belowlevel state if the epl is exactly that value it is set to atlevel and if the epl is greater than that value it is set to abovelevel here is an example of a style sheets using the presentation pseudoclasses   belowlevel  color black   atlevel  color red   abovelevel  color silver  this proposal does not describe the user interface of presentation levels the user agent will need to provide a user interface for setting the uapl for example in projection mode a user agent may increase the uapl every time the user hits the space bar when the user moves to another page for example by following a hyperlink the user agent may set the uapl to be the same as presentation level of the first element on the page in outline mode the user agent may provide a vertical slider on the side to increasedecrease the uapl  the presentationlevel property name presentationlevel value integer  same  increment initial  applies to all elements inherited yes percentages na media all computed value integer this property sets the elements presentation level epl the values have the following meanings an integer value sets the presentation level explicitly a value of increment computes to a value one more than the previous in document order elements presentation level a value of same computes to the same value as the previous elements in document order presentation level for the root element same computes to zero  example  progressively revealing list items here is an example of how presentation levels can be used to progressively reveal list items while highlighting the current one                                                    epl valuedoctype html public wcdtd html enhtml                                             style                                              html  color black background white   @media projection     h  pagebreakbefore always     li  presentationlevel increment     belowlevel  color black     atlevel  color red     abovelevel  color silver   stylebody                                             hstrategiesh                                hour strategyh                              ul                                                 lidivide                                         liconquer                                        pin that order                               ulhtheir strategyh                            ul                                                 liobfuscate                                      lipropagate                                    ul in the example above the li elements epl value is increased with one compared to the previous element the other elements epl value is the same as the previous element due to the initial same value of the presentationlevel property  example  presenting outline views of a document here is an example of how presentation levels can be used to present outline views of a document                                                    epl valuedoctype html public wcdtd html enhtml                                             style      h  presentationlevel     h  presentationlevel     h  presentationlevel     body   presentationlevel     abovelevel  display none stylebody                                             hstrategiesh                                hour strategyh                              ul                                               lidivide                                         liconquer                                        pin that order                                 ulhtheir strategyh                            ul                                               liobfuscate                                      lipropagate                                      ul  presentation levels and the dom an elements state is first evaluated when it is created when the uapl is changed all elements in the document have their state reevaluated a cssnowbelowlevel event is then sent to all elements that changed to the belowlevel state a cssnowatlevel event is then sent to all elements that changed to the atlevel state and a cssnowabovelevel event is then sent to all elements that changed to the abovelevel state changing an elements presentationlevel property eg through the dom or using a dynamic pseudoclass does not cause the elements state to be immediately reevaluated these events have the following characteristics bubbles yes cancelable no context info detail the uapl smil can be used with this event to declaratively key animations from user requests based on the presentationindex property the events are defined as    interface cssnowbelowlevel  uievent     interface cssnowatlevel  uievent     interface cssnowabovelevel  uievent   these three fragments together will cause a document to have three usertriggered list items which will scroll in one at a time each time the user hits the space bar or whatever mechanism the ua uses with the current item colored white and the past items colored gray markup     ol     li the separation of style and structure li     li declarative user interaction li     li potential for animation li    ol stylesheet      ol  overflow hidden      li  presentationlevel increment marginleft       liatlevel  color white      liabovelevel  color silver  script      when the element is shown scroll it in from the right     by animating the marginleft property from  to     documentdocumentelementaddeventlistenercssnowatlevel handler false    function handlerevent        animatefloat is a fictional library routine which takes       five arguments        a cssvalue to animate        the start value        the end value        the time over which to animate the property in milliseconds        the units to animate it with       it returns straight away and performs the animation in the       background      animatefloatdocumentgetoverridestyleeventtarget                                  nullgetpropertycssvaluemarginleft                      css_percentage    